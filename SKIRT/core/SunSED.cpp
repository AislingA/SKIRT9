/*//////////////////////////////////////////////////////////////////
////     The SKIRT project -- advanced radiative transfer       ////
////       Â© Astronomical Observatory, Ghent University         ////
///////////////////////////////////////////////////////////////// */

#include "SunSED.hpp"
#include "Random.hpp"

//////////////////////////////////////////////////////////////////////

void SunSED::setupSelfBefore()
{
    SimulationItem::setupSelfBefore();

    _table.open(this, "SunSED", "lambda(m)", "Llambda(W/m)");
    _Ltot = _table.cdf(_lambdav, _cdfv, 200, 0.1e-6, 20e-6);
}

//////////////////////////////////////////////////////////////////////

double SunSED::specificLuminosity(double wavelength) const
{
    return _table[wavelength] / _Ltot;
}

//////////////////////////////////////////////////////////////////////

double SunSED::generateWavelength() const
{
    return random()->cdf(_lambdav, _cdfv);
}

//////////////////////////////////////////////////////////////////////
