/*//////////////////////////////////////////////////////////////////
////     The SKIRT project -- advanced radiative transfer       ////
////       Â© Astronomical Observatory, Ghent University         ////
///////////////////////////////////////////////////////////////// */

#include "FilePaths.hpp"
#include "FatalError.hpp"
#include "System.hpp"

////////////////////////////////////////////////////////////////////

FilePaths::FilePaths(SimulationItem* parent)
{
    parent->addChild(this);
}

////////////////////////////////////////////////////////////////////

void FilePaths::setInputPath(string value)
{
    if (!System::isDir(value)) throw FATALERROR("Input path does not exist or is not a directory: " + value);
    _inputPath = System::canonicalPath(value) + "/";
}

////////////////////////////////////////////////////////////////////

string FilePaths::inputPath() const
{
    return _inputPath;
}

////////////////////////////////////////////////////////////////////

void FilePaths::setOutputPath(string value)
{
    if (!System::isDir(value)) throw FATALERROR("Output path does not exist or is not a directory: " + value);
    _outputPath = System::canonicalPath(value) + "/";
}

////////////////////////////////////////////////////////////////////

string FilePaths::outputPath() const
{
    return _outputPath;
}

////////////////////////////////////////////////////////////////////

void FilePaths::setOutputPrefix(string value)
{
    _outputPrefix = value;
}

////////////////////////////////////////////////////////////////////

string FilePaths::outputPrefix() const
{
    return _outputPrefix;
}

////////////////////////////////////////////////////////////////////

string FilePaths::input(string name) const
{
    return _inputPath + name;
}

////////////////////////////////////////////////////////////////////

string FilePaths::output(string name) const
{
    return _outputPath + _outputPrefix + "_" + name;
}

////////////////////////////////////////////////////////////////////
